@model List<MvcPhoenix.Models.BulkContainerViewModel>
@using MvcPhoenix.Models

@{
    // controller will send this value, needed if user chooses to do a packout so can return to Inventory/Edit/productdetailid
    string PDid = TempData["productdetailid"].ToString();
}
@*<div class="row">
    <div class="pull-right col-md-3">
        <input type="button" class="btn btn-primary btn-block form-control" value="Packout Request" onclick="javascript:alert('Later, this will redirect to Create Packout')" />
    </div>
</div>*@

<div class="table-responsive">
    <table class="table table-hover table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>WH</th>
                <th width="8%">Bin</th>
                <th>Lot Number</th>
                <th class="text-center">Recd<br />Wt</th>
                <th class="text-center">Current<br />Wt</th>
                <th>Expiry<br />Date</th>
                <th>Cease Ship<br />Date</th>
                <th>QC<br />Date</th>
                <th>Received<br />Date</th>
                <th>Notice<br />Date</th>
                <th>Waste<br />Start Date</th>
                <th>Status</th>
				<th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var row in Model)
            {
                <tr>
                    <td>@row.bulkid</td>
                    <td>@row.warehouse</td>
                    <td>@row.bin</td>
                    <td>@row.lotnumber</td>
                    <td class="text-center">@String.Format("{0:0}",row.receiveweight)</td>
                    <td class="text-center">@String.Format("{0:0}",@row.currentweight)</td>
                    <td>@String.Format("{0:dd MMM yyyy}", @row.expirationdate)</td>
                    <td>@String.Format("{0:dd MMM yyyy}", @row.ceaseshipdate)</td>
                    <td>@String.Format("{0:dd MMM yyyy}", @row.qcdate)</td>
                    <td>@String.Format("{0:dd MMM yyyy}", @row.receivedate)</td>
                    <td>@String.Format("{0:dd MMM yyyy}", @row.noticedate)</td>
                    <td>@String.Format("{0:dd MMM yyyy}", @row.wasteaccumstartdate)</td>
                    <td>@row.bulkstatus</td>
                    <td>
                        <span class="pull-right">
                            @if (row.bulkstatus == "AVAIL")
                            {
                                @Html.ActionLink(" ", "Index", "Packout", new { id = row.bulkid, productdetailid = PDid }, new { @class = "btn btn-primary fa fa-gears", @title = "Packout Request" })
                            }
                            else
                            {
                                <span><del>PackOut</del></span>
                            } | 
                            @Html.ActionLink(" ", "EditBulk", "Inventory", new { id = row.bulkid }, new { @class = "btn btn-primary fa fa-pencil", @title = "Edit Bulk Stock" })
                        </span>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>